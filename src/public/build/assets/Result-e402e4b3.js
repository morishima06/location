import{j as e,a,F,f as D,r,h as z,R as O,g as G,b as V}from"./app-bc6b9f11.js";import{L as K}from"./Logo-99607d83.js";import{F as q,A as P,u as H,S as W}from"./SubmitButton-57e89159.js";import{G as Z}from"./iconBase-80b019e4.js";const J=()=>e("header",{className:"flex h-[50px] items-center justify-center bg-black sm:h-[65px] ",children:e("div",{className:"w-[1100px]",children:e(K,{})})}),X=({children:l})=>a(F,{children:[e(J,{}),l,e(q,{})]});var R={exports:{}},Q=function l(s,t){if(s===t)return!0;if(s&&t&&typeof s=="object"&&typeof t=="object"){if(s.constructor!==t.constructor)return!1;var n,i,d;if(Array.isArray(s)){if(n=s.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!l(s[i],t[i]))return!1;return!0}if(s.constructor===RegExp)return s.source===t.source&&s.flags===t.flags;if(s.valueOf!==Object.prototype.valueOf)return s.valueOf()===t.valueOf();if(s.toString!==Object.prototype.toString)return s.toString()===t.toString();if(d=Object.keys(s),n=d.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(t,d[i]))return!1;for(i=n;i--!==0;){var c=d[i];if(!l(s[c],t[c]))return!1}return!0}return s!==s&&t!==t};const B="__googleMapsScriptId";var j;(function(l){l[l.INITIALIZED=0]="INITIALIZED",l[l.LOADING=1]="LOADING",l[l.SUCCESS=2]="SUCCESS",l[l.FAILURE=3]="FAILURE"})(j||(j={}));class L{constructor({apiKey:s,authReferrerPolicy:t,channel:n,client:i,id:d=B,language:c,libraries:v=[],mapIds:h,nonce:y,region:k,retries:x=3,url:p="https://maps.googleapis.com/maps/api/js",version:b}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=s,this.authReferrerPolicy=t,this.channel=n,this.client=i,this.id=d||B,this.language=c,this.libraries=v,this.mapIds=h,this.nonce=y,this.region=k,this.retries=x,this.url=p,this.version=b,L.instance){if(!Q(this.options,L.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(L.instance.options)}`);return L.instance}L.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?j.FAILURE:this.done?j.SUCCESS:this.loading?j.LOADING:j.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let s=this.url;return s+=`?callback=${this.CALLBACK}`,this.apiKey&&(s+=`&key=${this.apiKey}`),this.channel&&(s+=`&channel=${this.channel}`),this.client&&(s+=`&client=${this.client}`),this.libraries.length>0&&(s+=`&libraries=${this.libraries.join(",")}`),this.language&&(s+=`&language=${this.language}`),this.region&&(s+=`&region=${this.region}`),this.version&&(s+=`&v=${this.version}`),this.mapIds&&(s+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(s+=`&auth_referrer_policy=${this.authReferrerPolicy}`),s}deleteScript(){const s=document.getElementById(this.id);s&&s.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((s,t)=>{this.loadCallback(n=>{n?t(n.error):s(window.google)})})}loadCallback(s){this.callbacks.push(s),this.execute()}setScript(){if(document.getElementById(this.id)){this.callback();return}const s=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=s,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(s){if(this.errors.push(s),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},t)}else this.onerrorEvent=s,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(s=>{s(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}const Y=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_ID:B,Loader:L,get LoaderStatus(){return j}},Symbol.toStringTag,{value:"Module"})),ee=D(Y);(function(l,s){(function(t,n){n(s,ee,r)})(z,function(t,n,i){function d(h){return h&&typeof h=="object"&&"default"in h?h:{default:h}}var c=d(i);t.Status=void 0,function(h){h.LOADING="LOADING",h.FAILURE="FAILURE",h.SUCCESS="SUCCESS"}(t.Status||(t.Status={}));const v=({children:h,render:y,callback:k,...x})=>{const[p,b]=i.useState(t.Status.LOADING);return i.useEffect(()=>{const w=new n.Loader(x),g=N=>{k&&k(N,w),b(N)};g(t.Status.LOADING),w.load().then(()=>g(t.Status.SUCCESS),()=>g(t.Status.FAILURE))},[]),p===t.Status.SUCCESS&&h?c.default.createElement(c.default.Fragment,null,h):y?y(p):c.default.createElement(c.default.Fragment,null)};t.Wrapper=v,Object.defineProperty(t,"__esModule",{value:!0})})})(R,R.exports);var te=R.exports;function se(l){const s=r.useRef(null),t=l.lat,n=l.lng;return r.useEffect(()=>{l.map&&l.map.controls[window.google.maps.ControlPosition.TOP_LEFT].push(s.current)},[l.map]),e(F,{children:e("div",{ref:s,className:l.MapInfo==""?"hidden":"",children:a("div",{className:"ml-2 mt-2 bg-white p-1",children:[e("p",{children:l.MapInfo.shop_name}),a("p",{children:[l.MapInfo.state,l.MapInfo.city,l.MapInfo.address]}),e("p",{className:"text-blue-500",children:e("a",{href:"https://www.google.com/maps/dir/?api=1&destination="+t+","+n,children:"ルート"})})]})})})}function le({center:l,children:s}){const t=r.useRef(null),[n,i]=r.useState();let d={center:new window.google.maps.LatLng({lat:l.lat,lng:l.lng}),zoom:17};return r.useEffect(()=>{n&&n.setOptions(d)},[n,t,l]),r.useEffect(()=>{t.current&&!n&&i(new window.google.maps.Map(t.current,{center:{lat:l.lat,lng:l.lng},zoom:10,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}))},[t,n]),a(F,{children:[e("div",{ref:t,className:"",style:{height:"100%",width:"100%"}}),O.Children.map(s,c=>{if(O.isValidElement(c))return O.cloneElement(c,{map:n})})]})}function ne(l){const[s,t]=r.useState();return r.useEffect(()=>(s||t(new window.google.maps.Marker),()=>{s&&s.setMap(null)}),[s]),r.useEffect(()=>{s&&s.setOptions(l)},[s,l]),null}const re=({res:l})=>{const{setPlace:s,setMapInfo:t}=r.useContext(T),[n,i]=r.useState(!1),[d,c]=r.useState(!1),[v,h]=r.useState(),y=r.useRef();r.useEffect(()=>{console.log(y),h(`${y.current.scrollHeight}px`)},[]);const k=()=>{i(!n)};console.log(l);const x=b=>{let w=b.currentTarget.getAttribute("data-shop_name"),g=b.currentTarget.getAttribute("data-state"),N=b.currentTarget.getAttribute("data-city"),S=b.currentTarget.getAttribute("data-address"),u=b.currentTarget.getAttribute("data-tel");s(g+N+S);let f=new Object;f.shop_name=w,f.state=g,f.city=N,f.address=S,f.tel=u,t(f)},p=r.useRef(null);return r.useEffect(()=>{const b=p.current;if(!b)return;const w=g=>{b.contains(g.target)?c(!0):c(!1)};return document.addEventListener("click",w),()=>{document.removeEventListener("click",w)}},[p]),e(F,{children:a("div",{ref:p,style:{backgroundColor:d?"#E2E8F0":""},className:"mb-[-1px] cursor-pointer border-y   border-slate-400 py-2  pl-1 text-xs  text-slate-900 hover:bg-slate-50 ","data-shop_name":l.shop_name,"data-state":l.state,"data-city":l.city,"data-address":l.address,"data-tel":l.tel,onClick:b=>{x(b)},children:[a("div",{className:"flex",children:[a("div",{children:[e("h3",{className:" text-[14px] font-semibold ",children:l.name}),e("p",{className:"mt-1 text-[12px]",children:l.state+l.city+l.address})]}),e("div",{className:" ml-auto mr-2 flex items-center hover:text-amber-500",children:n?e("span",{className:"p-1 text-sm ",onClick:k,children:"-"}):e("span",{className:"p-1 text-sm ",onClick:k,children:"+"})})]}),e("div",{className:n?"  opacity-100 transition-all   duration-500 ":"   opacity-0 transition-all  duration-500 	",style:{height:n?`${v}`:"0px"},ref:y,children:a("p",{className:n?"text-[12px] opacity-100 transition-all  duration-500":"invisible text-[12px]  opacity-0 transition-all  duration-500  ",children:[l.tel,e("br",{}),"営業時間:",l.hour,e("br",{}),"定休日:",l.holiday,"曜日",e("br",{}),"最寄駅 : ",l.station,e("br",{}),"主な取り扱いブランド:",l.brand_name]})})]})})},T=r.createContext(),ae=l=>{const{info:s}=l,[t,n]=r.useState(s),[i,d]=r.useState(t==""?"東京都":t[0].address),[c,v]=r.useState(t==""?"東京都":t[0]),[h,y]=r.useState(35.69575),[k,x]=r.useState(139.77521),p={lat:h,lng:k},[b,w]=r.useState(!1),[g,N]=r.useState(0),S=t.length;r.useEffect(()=>{u()},[i,c,t]);function u(){new window.google.maps.Geocoder().geocode({address:i},(o,E)=>{E==="OK"&&(y(o[0].geometry.location.lat()),x(o[0].geometry.location.lng()),w(!0))})}const f=C=>{let o=C.target.value===""?s:s.filter(E=>E.sort_id==C.target.value);if(o==""){n(""),v("");return}n(o),v(o[0]),d(o[0].address)},m={place:i,setPlace:d,MapInfo:c,setMapInfo:v};return e("div",{className:" w-full  max-w-[1100px]  justify-center rounded-2xl  sm:mt-2  sm:flex  sm:h-[450px] sm:px-2  ",children:a("div",{className:" relative z-0 h-[420px] overflow-hidden bg-white sm:bottom-[22px] sm:flex sm:w-[1100px]",children:[a("div",{className:"absolute z-10 mr-4 h-[450px] w-full bg-white sm:relative sm:w-2/3",children:[a("div",{className:"flex  h-[56px]  items-center px-2 sm:mb-[6px] sm:h-[40px] sm:px-0",children:[S===0?e("div",{className:"mr-2   text-sm  font-semibold text-slate-800 ",children:e("p",{children:"検索に該当する店舗はありませんでした"})}):a("p",{className:"mr-2   text-sm  font-semibold text-slate-800  ",children:["検索結果:",S,"店舗見つかりました"]}),a("select",{name:"",className:"ml-auto block w-32 rounded-full  text-xs leading-none text-slate-800",id:"",onChange:C=>{f(C)},children:[e("option",{className:"text-xs",value:"",children:"店舗形態"}),e("option",{value:"1",children:"セレクトショップ"}),e("option",{value:"2",children:"ブランドショップ"}),e("option",{value:"3",children:"百貨店"})]})]}),a("div",{className:"flex h-[44px] w-full  sm:hidden ",children:[e("p",{className:`flex w-1/2 items-center justify-center border-y border-l border-slate-600  text-sm font-semibold hover:cursor-pointer ${g==0?"border-none bg-black text-white":""}`,onClick:()=>{N(0)},children:"店舗リストを表示"}),e("p",{className:`flex w-1/2 items-center justify-center border-y border-r border-slate-600  text-sm font-semibold hover:cursor-pointer ${g==1?"border-none bg-black text-white":""}`,onClick:()=>{N(1)},children:"地図を表示"})]}),e("div",{className:"h-[400px] overflow-y-scroll sm:h-[354px]   ",children:e("div",{className:"h-full ",children:t!==""&&t.map((C,o)=>e(T.Provider,{value:m,children:e(re,{res:C})},o))})})]}),e("div",{className:"a relative mt-[100px] h-[450px] w-full  sm:relative sm:mt-0",style:g=="0"?{zIndex:"0"}:{zIndex:"11"},children:e("div",{className:"h-[400px]   w-full ",children:a(le,{center:p,children:[S>0&&e(ne,{position:p}),e(se,{MapInfo:c,shopInfo:t,lat:h,lng:k})]})})})]})})};function ie(l){return Z({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"path",attr:{d:"m21 21-4.3-4.3"}}]})(l)}const oe=({keywords:l})=>a("div",{className:"flex w-full items-center overflow-auto px-2",children:[e("div",{className:"pr-2",children:e(ie,{})}),!l.keyword&&!l.brand&&!l.address.name&&e("div",{className:"w-full",children:e("p",{className:"text-sm",children:"キーワード•条件を指定する"})}),a("div",{className:"flex items-center",children:[l.keyword&&a("div",{className:" mr-1 shrink-0 ",style:{fontSize:"0"},children:[e("p",{className:"mb-0.5 w-16 text-xs font-semibold text-black",children:"キーワード"}),e("p",{className:" inline-block  bg-black px-1 py-0.5 text-xs  font-semibold leading-none text-white",children:l.keyword})]}),l.brand&&a("div",{className:"mr-1 shrink-0",style:{fontSize:"0"},children:[e("p",{className:"mb-0.5 text-xs font-semibold text-black",children:"ブランド"}),e("p",{className:"alig leading inline-block bg-black px-1 text-xs font-semibold text-white",children:l.brand})]}),l.address.name&&a("div",{className:"shrink-0",style:{fontSize:"0"},children:[e("p",{className:"mb-0.5 text-xs font-semibold text-black",children:"エリア"}),e("p",{className:"inline-block bg-black px-1 py-0.5 text-xs font-semibold leading-none text-white",children:l.address.name})]})]})]}),ce=({keyword_props:l})=>{const{keywords:s,setValues:t,cookies:n,removeCookie:i,keywordFormActive:d,setKeywordFormActive:c,setBrandFormActive:v,setAddressFormActive:h}=l,y=r.useRef(null),k=r.useRef(null),x=n.name?n.name.filter((o,E)=>E<5):"",[p,b]=r.useState(x),[w,g]=r.useState(s.keyword);console.log(p);function N(o){const E=o.target.id,_=o.target.getAttribute("data-name");t(I=>({...I,[E]:_})),g(_),c(!1)}function S(o){const E=o.target.id,_=o.target.value;var I=new RegExp(_,"i");if(n.name){const M=n.name.filter($=>$.match(I)).filter(($,U)=>U<5);b(M)}g(_),t(A=>({...A,[E]:_}))}function u(o){c(!d),v(!1),h(!1),document.addEventListener("click",f),o.stopPropagation()}const f=r.useCallback(()=>{c(!1),document.removeEventListener("click",f)},[]);r.useEffect(()=>{d===!0&&k.current.focus()},[d]),r.useEffect(()=>()=>{document.removeEventListener("click",f)},[f]);const m=()=>{g(""),t(o=>({...o,keyword:""})),b(x)};function C(){i("name")}return e(F,{children:e("div",{className:"mb-[5px] flex h-[44px]  w-full items-center overflow-hidden rounded-lg bg-white sm:relative sm:mb-0 sm:h-[48px] sm:w-1/3 sm:overflow-visible sm:rounded-r-none",onClick:o=>{u(o)},children:a("div",{className:" flex  w-full items-center  ",children:[e("div",{className:"flex w-full items-center pl-4",children:a("div",{className:"w-full",children:[e("label",{htmlFor:"",className:"block  text-xs font-semibold ",children:"キーワード"}),e("input",{form:"form1",id:"keyword",name:"keyword",readOnly:!0,placeholder:"店舗名・キーワード",ref:y,value:w||"",className:"block text-xs leading-none outline-0 placeholder:justify-center placeholder:font-medium  placeholder:text-slate-900"})]})}),e("div",{className:"  ml-auto mr-2",children:w&&e("img",{src:"./images/button.svg",alt:"",className:"w-[20px] cursor-pointer ",onClick:o=>{m(),o.stopPropagation()}})}),e("div",{className:"absolute right-0 top-0 h-screen w-full bg-white  pb-2 sm:mt-0 sm:h-auto sm:rounded-lg sm:bg-white  sm:shadow-[0px_0px_5px_1px_rgba(0,0,0,0.2)]",onClick:o=>{o.stopPropagation()},style:d?{display:"block"}:{visibility:"hidden"},children:a("div",{className:"",children:[e("div",{className:"mr-1 mt-1 flex w-full justify-end  sm:hidden ",children:e("button",{type:"button",onClick:()=>{c(!1)},className:"mr-1 mt-1 flex h-6 w-6 items-center justify-center rounded-sm hover:bg-slate-300",children:e(P,{})})}),e("div",{className:"flex items-center px-4 py-2 ",children:a("div",{children:[e("p",{className:"hidden text-sm font-semibold sm:block",children:"キーワード"}),e("input",{form:"form1",id:"keyword",type:" block",placeholder:"店舗名・キーワード",autoComplete:"off",className:"block w-full  text-lg font-semibold text-black outline-0 sm:text-sm",value:w||"",ref:k,onChange:S})]})}),!p&&e("div",{className:"border-b sm:hidden"}),p&&e("div",{children:p.length>0&&a("div",{children:[e("div",{className:"border-b"}),a("div",{children:[p&&p.map(o=>e("p",{className:"cursor-pointer bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-100 ",id:"keyword","data-name":o,onClick:N,children:o},o)),e("button",{type:"button",className:"cursor-pointer pl-4 text-xs text-blue-600",onClick:C,children:"すべててクリア"})]})]})})]})})]})})})},de=({brand_props:l})=>{const{keywords:s,setValues:t,brands:n,brandFormActive:i,setKeywordFormActive:d,setBrandFormActive:c,setAddressFormActive:v}=l;console.log(n);const h=n.filter((m,C)=>C<6),[y,k]=r.useState(h),[x,p]=r.useState(s.brand),b=r.useRef(null),w=r.useRef(null);function g(m){c(!i),d(!1),v(!1),document.addEventListener("click",N),m.stopPropagation()}const N=r.useCallback(()=>{c(!1),document.removeEventListener("click",N)},[]);r.useEffect(()=>{i===!0&&w.current.focus()},[i]),r.useEffect(()=>()=>{document.removeEventListener("click",N)},[N]);const S=()=>{p(""),t(m=>({...m,brand:""})),k(h)};function u(m){const C=m.target.id,o=m.target.getAttribute("data-name");t(A=>({...A,[C]:o}));var E=new RegExp(o,"i");const I=n.filter(A=>A.name.match(E)).filter((A,M)=>M<6);k(I),p(o),c(!1)}function f(m){const C=m.target.id,o=m.target.value;p(o),t(A=>({...A,[C]:o}));var E=new RegExp(o,"i");const I=n.filter(A=>A.name.match(E)||A.katakana.match(E)||A.hiragana.match(E)).filter((A,M)=>M<5);k(I)}return e(F,{children:a("div",{className:"mb-[5px] flex h-[44px]  w-full items-center overflow-hidden rounded-lg bg-white sm:relative sm:mb-0 sm:h-[48px] sm:w-1/3 sm:overflow-visible sm:rounded-none",onClick:m=>{g(m)},children:[e("div",{className:"hidden h-[calc(100%-16px)] w-[1px]  bg-slate-300 sm:block"}),a("div",{className:" flex  w-full items-center  ",children:[e("div",{className:"flex w-full items-center ",children:a("div",{className:"w-full pl-4",children:[e("label",{htmlFor:"",className:"block   text-xs font-semibold ",children:"ブランド"}),e("input",{form:"form1",id:"brand",name:"brand",readOnly:!0,autoComplete:"off",placeholder:"ブランド名",ref:b,value:x||"",className:"block text-xs leading-none outline-0   placeholder:justify-center placeholder:font-medium  placeholder:text-slate-900"})]})}),e("div",{className:"  ml-auto mr-2",children:x&&e("img",{src:"./images/button.svg",alt:"",className:"w-[20px] cursor-pointer ",onClick:m=>{S(),m.stopPropagation()}})}),e("div",{className:"absolute right-0 top-0 h-screen w-full bg-white pb-2 sm:mt-0 sm:h-auto sm:rounded-lg sm:bg-white  sm:shadow-[0px_0px_5px_1px_rgba(0,0,0,0.2)]",onClick:m=>{m.stopPropagation()},style:i?{display:"block"}:{visibility:"hidden"},children:a("div",{className:"mr-1 mt-1 sm:mr-0 sm:mt-0",children:[e("div",{className:"flex w-full justify-end sm:hidden ",children:e("button",{type:"button",onClick:()=>{c(!1)},className:"mr-1 mt-1 flex h-6 w-6 items-center justify-center rounded-sm hover:bg-slate-300",children:e(P,{})})}),a("div",{className:"px-4 py-2",children:[e("p",{className:"hidden text-sm font-semibold sm:block",children:"ブランド"}),e("input",{form:"form1",type:" block",placeholder:"ブランド名",name:"brand",id:"brand",autoComplete:"off",className:"block w-full text-lg font-semibold  text-black outline-0 sm:text-sm",value:x||"",ref:w,onChange:f})]}),y.length>0&&a("div",{children:[e("div",{className:"border-b"}),y.map(m=>e("p",{className:"cursor-pointer bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-100 ",id:"brand","data-name":m.name,onClick:u,children:m.name+" ("+m.katakana+")"},m.name))]})]})})]})]})})},me=({address_props:l})=>{const{setValues:s,keywords:t,prefuctures:n,addressFormActive:i,setKeywordFormActive:d,setBrandFormActive:c,setAddressFormActive:v}=l,h=r.useRef(null),[y,k]=r.useState({0:!1});console.log(n);const[x,p]=r.useState(t.address.name),b=u=>{console.log(u),k(f=>({...f,[u]:!f[u]}))};function w(u){v(!i),d(!1),c(!1),document.addEventListener("click",g),u.stopPropagation()}const g=r.useCallback(()=>{v(!1),document.removeEventListener("click",g)},[]);r.useEffect(()=>()=>{document.removeEventListener("click",g)},[g]);const N=()=>{p(""),s(u=>({...u,address:""}))},S=u=>{const f=u.target.getAttribute("data-adname"),m=u.target.getAttribute("data-ad_code"),C=u.target.id;s(o=>({...o,[C]:m})),p(f),v(!1)};return e(F,{children:a("div",{className:" mb-[5px] mr-2 flex h-[44px] w-full items-center overflow-hidden rounded-lg bg-white  sm:relative sm:mb-0 sm:h-[48px] sm:w-1/3 sm:overflow-visible  sm:rounded-l-none",onClick:u=>{w(u)},children:[e("div",{className:"hidden h-[calc(100%-16px)] w-[1px] bg-slate-300 sm:block"}),a("div",{className:"flex w-full items-center ",children:[e("div",{className:"flex w-full   items-center ",children:a("div",{className:"w-full pl-4",children:[e("label",{htmlFor:"",className:" block text-xs font-semibold",children:"エリア"}),e("input",{form:"form1",id:"address",readOnly:!0,className:"block  border-none bg-transparent text-xs leading-none outline-0  placeholder:text-slate-900 ",name:"address",value:x||"",ref:h,placeholder:"都道府県"})]})}),e("div",{className:"  ml-auto mr-2",children:x&&e("img",{src:"./images/button.svg",alt:"",className:"w-[20px] cursor-pointer ",onClick:u=>{N(),u.stopPropagation()}})}),a("div",{className:"absolute right-0 top-0 h-screen w-full bg-white pb-2 sm:top-14 sm:mt-0 sm:h-auto  sm:rounded-lg sm:bg-white  sm:shadow-[0px_0px_5px_1px_rgba(0,0,0,0.2)] ",onClick:u=>{u.stopPropagation()},style:i?{display:"block"}:{visibility:"hidden"},children:[e("div",{className:"flex w-full justify-end  sm:hidden",children:e("button",{type:"button",onClick:()=>{v(!1)},className:"mr-1 mt-2 flex h-6 w-6 items-center justify-center rounded-sm hover:bg-slate-300",children:e(P,{})})}),e("p",{className:"mb-2 flex w-full justify-center border-b border-slate-100 pb-2 font-semibold drop-shadow-sm sm:my-3",children:"エリア一覧"}),Object.keys(n).map((u,f)=>a("div",{children:[a("div",{className:"flex cursor-pointer  items-center hover:bg-slate-100 ","data-state_code":n[u].state_code,children:[e("div",{className:" flex py-1 pl-3 text-[15px] hover:text-blue-500",onClick:S,children:a("p",{id:"address",className:"pr-[2px]","data-adname":n[u].state,"data-ad_code":n[u].state_code,children:[n[u].state,"(",n[u].count,")"]})}),e("div",{className:"flex grow justify-end pr-4",onClick:()=>b(f),children:e("span",{className:"  ",children:"+"})})]}),y[f]?e("div",{className:"py-[2px] ",onClick:S,children:y[f]?n[u].area.map(m=>a("div",{className:" flex cursor-pointer py-[2px] pl-3 text-[12px] hover:text-blue-500  ",id:"address","data-adname":m.name,"data-ad_code":m.area_code,children:[m.name,"(",m.count,")"]},m.name)):void 0}):void 0]},f))]})]})]})})},ue=({brands:l,prefuctures:s,keywords:t})=>{const[n,i]=r.useState({keyword:t.keyword,brand:t.brand,address:t.address.code}),[d,c,v]=H(),[h,y]=r.useState(!1),[k,x]=r.useState(!1),[p,b]=r.useState(!1),w={keywords:t,values:n,setValues:i,cookies:d,setCookie:c,removeCookie:v,keywordFormActive:h,setKeywordFormActive:y,setBrandFormActive:x,setAddressFormActive:b};console.log(w);const g={keywords:t,values:n,setValues:i,brands:l,brandFormActive:k,setKeywordFormActive:y,setBrandFormActive:x,setAddressFormActive:b},N={keywords:t,values:n,setValues:i,prefuctures:s,addressFormActive:p,setKeywordFormActive:y,setBrandFormActive:x,setAddressFormActive:b};function S(u){u.preventDefault();const f=n.keyword;if(!f==""){if(d.name==null)c("name",[f]);else if(!d.name.includes(f)){const m=[...d.name,f];c("name",m)}}G.get("/search",n)}return a(F,{children:[e(ce,{keyword_props:w}),e(de,{brand_props:g}),e(me,{address_props:N}),e("div",{className:"flex w-full items-center justify-center  rounded-lg  bg-blue-700 sm:ml-auto sm:w-16",children:e(W,{handleSubmit:S})})]})},he=({keywords:l,brands:s,prefuctures:t,info:n})=>{const[i,d]=r.useState(!0);return a(F,{children:[e("div",{className:" mb-0  flex h-[64px] items-center  bg-black sm:mb-[56px] sm:block sm:h-[36px] ",children:a("div",{className:"  z-10  flex w-full max-w-[1100px]  items-center justify-center bg-black sm:relative sm:left-1/2   sm:h-[64px]  sm:-translate-x-1/2  sm:rounded-2xl",children:[e("div",{className:`z-10  mx-2 flex  h-10 w-full  items-center  overflow-hidden rounded-xl  bg-white sm:mt-0   sm:hidden ${i?"":"hidden"}`,onClick:()=>{d(!1)},children:e(oe,{keywords:l})}),a("div",{className:`fixed top-0  z-10  w-full bg-black sm:relative  sm:mt-0 sm:block sm:bg-transparent sm:pt-0 ${i?"hidden":""}`,children:[e("div",{className:`py-10 sm:hidden sm:py-0 ${i?"hidden":""}`,children:e(K,{})}),a("div",{className:"justify-center  px-2 sm:flex ",children:[e(ue,{keywords:l,brands:s,prefuctures:t}),e("div",{className:"flex justify-center",children:e("button",{className:"my-2 h-10 w-full text-white hover:text-slate-500 sm:hidden",onClick:()=>{d(!0)},children:"閉じる"})})]})]})]})}),e(te.Wrapper,{apiKey:"AIzaSyDyRso38KZXTqAp9m47T4UbaKRk6OnttOw",children:e("div",{className:"flex justify-center",children:e(ae,{info:n})})})]})},ve=l=>{const{keywords:s,brands:t,prefuctures:n,info:i}=l,{keyword:d,brand:c,address:v}=s,h=`「${d?" "+d:""}${c?" "+c:""}${v.name?" "+v.name:""}」検索結果`;return a(X,{children:[e(V,{children:e("title",{children:h})}),e(he,{brands:t,prefuctures:n,keywords:s,info:i})]})};export{ve as default};
