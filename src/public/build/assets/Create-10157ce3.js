import{r as i,a as t,F as D,j as e,b as z,g as J}from"./app-bc6b9f11.js";import{H as X}from"./Header-8f5426b3.js";import{R as j}from"./index.esm-0e2653d5.js";import"./Logo-99607d83.js";import"./iconBase-80b019e4.js";const $=()=>{const[d,n]=i.useState({shop_name:"",shop_sort:"",zip_code:"",state:"",state_code:"",city:"",address:"",tel1:"",tel2:"",tel3:"",brand:[],area_id:"",area_code:"",addBrand:"",addKana:"",addArea:"",addAreaCode:"",addNewAreaCode:"",nearest_station:"",business_hours:"",regular_holiday:""});function o(r){console.log(r.target.value);const a=r.target.id,l=r.target.value;n(c=>({...c,[a]:l}))}const w=r=>{r.preventDefault(),fetch(`https://zipcloud.ibsnet.co.jp/api/search?zipcode=${d.zip_code}`).then(a=>a.json()).then(a=>(console.log(a),n(l=>({...l,state:a.results[0].address1,city:a.results[0].address2,address:a.results[0].address3,state_code:u[a.results[0].address1]})),s(a.results[0].address1))).then(a=>console.log(a)).catch(()=>alert("er"))},s=r=>{fetch(route("ShopInfo.getAreaCode"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({state_code:u[r]})}).then(a=>a.json()).then(a=>{console.log(a.new_area_code.area_code),C(a.area_code),a.new_area_code.area_code?n(l=>({...l,addAreaCode:a.new_area_code.area_code,area_code:""})):n(l=>({...l,addAreaCode:"2"}))}).catch(()=>alert("eor"))},_=r=>{const a=r.target.value;console.log(a),o(r),n(l=>({...l,state_code:u[a]})),s(a)},u={北海道:"001",青森県:"002",岩手県:"003",宮城県:"004",秋田県:"005",山形県:"006",福島県:"007",茨城県:"008",栃木県:"009",群馬県:"010",埼玉県:"011",千葉県:"012",東京都:"013",神奈川県:"014",新潟県:"015",富山県:"016",石川県:"017",福井県:"018",山梨県:"019",長野県:"020",岐阜県:"021",静岡県:"022",愛知県:"023",三重県:"024",滋賀県:"025",京都府:"026",大阪府:"027",兵庫県:"028",奈良県:"029",和歌山県:"030",鳥取県:"031",島根県:"032",岡山県:"033",広島県:"034",山口県:"035",徳島県:"036",香川県:"037",愛媛県:"038",高知県:"039",福岡県:"040",佐賀県:"041",長崎県:"042",熊本県:"043",大分県:"044",宮崎県:"045",鹿児島県:"046",沖縄県:"047"},[b,C]=i.useState("");console.log(b);const[p,F]=i.useState({brand_id:"",name:""}),[k,S]=i.useState(""),[y,f]=i.useState(k),[A,g]=i.useState(!1),B=r=>{let a=r.target.value;var l=new RegExp(a,"i");const c=k.filter(N=>N.name.match(l));console.log(c);const v=c.filter((N,L)=>L<6);console.log(v),f(v)},m=i.useRef(null);function O(r){const a=r.target.getAttribute("data-name"),l=r.target.getAttribute("data-brand_id");m.current.value=r.target.getAttribute("data-name"),F(c=>({...c,brand_id:l,name:a})),g(!1)}console.log(p),console.log(d.brand);function q(r){r.preventDefault(),d.brand.push(p),n(a=>({...a,brand:a.brand})),m.current.value=""}const R=r=>{const a=r.target.getAttribute("data-key");d.brand.splice(a,1),n(l=>({...l,[a]:l.brand}))},h=i.useRef(null);i.useEffect(()=>{const r=h.current;if(!r)return;const a=l=>{r.contains(l.target)?(g(!0),console.log(9)):g(!1)};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[h]);const x=()=>{fetch(route("ShopInfo.getBrand"),{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content}}).then(r=>r.json()).then(r=>{console.log(r),S(r),f(r.filter((a,l)=>l<6))})},T=r=>{r.preventDefault(),fetch(route("ShopInfo.addArea"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({addArea:d.addArea,addAreaCode:d.addAreaCode})}).then(a=>a.json()).then(a=>{console.log(a),s(d.state),n(l=>({...l,addArea:""})),alert("新しいエリアを追加しました")}).catch(()=>alert("エリア追加に失敗しました"))},E=()=>{fetch(route("ShopInfo.addBrand"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({addBrand:d.addBrand,addKana:d.addKana})}).then(r=>r.json()).then(r=>{console.log(r),x(),n(a=>({...a,addBrand:"",addKana:""}))}).then(alert("新しくブランドを追加しました")).catch(()=>alert("追加に失敗しました"))},K=r=>{const a=r.target.value,l=r.target[r.target.selectedIndex].getAttribute("data-area_id");n(c=>({...c,area_id:l,area_code:a}))};function I(r){r.preventDefault(),J.post("/shopInfo/create_check",d)}return i.useEffect(()=>{console.log("brand"),x()},[]),t(D,{children:[e(z,{title:"店舗作成"}),e(X,{}),t("form",{onSubmit:I,children:[t("div",{className:"mx-2 mb-3 mt-10 grid gap-3 md:mx-10 md:mb-6 md:grid-cols-3",children:[t("div",{children:[e("label",{htmlFor:"first_name",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"店舗名"}),e("input",{type:"text",value:d.shop_name,id:"shop_name",onChange:o,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"店舗名",required:!0})]}),t("div",{children:[e("label",{htmlFor:"countries",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"店舗種類"}),t("select",{value:d.shop_sort,id:"shop_sort",onChange:o,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[e("option",{value:"",children:"選択してください"}),e("option",{value:"1",children:"セレクトショップ"}),e("option",{value:"2",children:"ブランドショップ"}),e("option",{value:"3",children:"百貨店"})]})]})]}),e("div",{className:"mx-2 mb-3 grid gap-3 md:mx-10 md:mb-6 md:grid-cols-3 ",children:t("div",{children:[e("label",{htmlFor:"company",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"郵便番号"}),t("div",{className:"flex",children:[e("input",{type:"text",id:"zip_code",inputMode:"numeric",value:d.zip_code,onChange:o,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"例1500003 *ハイフンなし",required:!0}),e("button",{type:"button ",className:"ml-2 w-20 rounded-lg bg-black px-2 text-white",onClick:w,children:"検索"})]})]})}),t("div",{className:"mx-2 mb-3 grid gap-3 md:mx-10 md:mb-6 md:grid-cols-4 ",children:[t("div",{children:[e("label",{className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",htmlFor:"state",children:"都道府県"}),t("select",{value:d.state,id:"state",onChange:_,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[e("option",{value:"",children:"選択してください"}),e("option",{value:"北海道",children:"北海道"}),e("option",{value:"青森県",children:"青森県"}),e("option",{value:"岩手県",children:"岩手県"}),e("option",{value:"宮城県",children:"宮城県"}),e("option",{value:"秋田県",children:"秋田県"}),e("option",{value:"山形県",children:"山形県"}),e("option",{value:"福島県",children:"福島県"}),e("option",{value:"茨城県",children:"茨城県"}),e("option",{value:"栃木県",children:"栃木県"}),e("option",{value:"群馬県",children:"群馬県"}),e("option",{value:"埼玉県",children:"埼玉県"}),e("option",{value:"千葉県",children:"千葉県"}),e("option",{value:"東京都",children:"東京都"}),e("option",{value:"神奈川県",children:"神奈川県"}),e("option",{value:"新潟県",children:"新潟県"}),e("option",{value:"富山県",children:"富山県"}),e("option",{value:"石川県",children:"石川県"}),e("option",{value:"福井県",children:"福井県"}),e("option",{value:"山梨県",children:"山梨県"}),e("option",{value:"長野県",children:"長野県"}),e("option",{value:"岐阜県",children:"岐阜県"}),e("option",{value:"静岡県",children:"静岡県"}),e("option",{value:"愛知県",children:"愛知県"}),e("option",{value:"三重県",children:"三重県"}),e("option",{value:"滋賀県",children:"滋賀県"}),e("option",{value:"京都府",children:"京都府"}),e("option",{value:"大阪府",children:"大阪府"}),e("option",{value:"兵庫県",children:"兵庫県"}),e("option",{value:"奈良県",children:"奈良県"}),e("option",{value:"和歌山県",children:"和歌山県"}),e("option",{value:"鳥取県",children:"鳥取県"}),e("option",{value:"島根県",children:"島根県"}),e("option",{value:"岡山県",children:"岡山県"}),e("option",{value:"広島県",children:"広島県"}),e("option",{value:"山口県",children:"山口県"}),e("option",{value:"徳島県",children:"徳島県"}),e("option",{value:"香川県",children:"香川県"}),e("option",{value:"愛媛県",children:"愛媛県"}),e("option",{value:"高知県",children:"高知県"}),e("option",{value:"福岡県",children:"福岡県"}),e("option",{value:"佐賀県",children:"佐賀県"}),e("option",{value:"長崎県",children:"長崎県"}),e("option",{value:"熊本県",children:"熊本県"}),e("option",{value:"大分県",children:"大分県"}),e("option",{value:"宮崎県",children:"宮崎県"}),e("option",{value:"鹿児島県",children:"鹿児島県"}),e("option",{value:"沖縄県",children:"沖縄県"})]})]}),t("div",{children:[e("label",{htmlFor:"website",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"都道府県_NO"}),e("input",{type:"text",readOnly:!0,id:"state_code",value:d.state_code,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"都道府県_NO",required:!0})]}),t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"区市町村"}),e("input",{type:"text",id:"city",value:d.city,onChange:o,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"例)新宿区",required:!0})]})]}),t("div",{className:"mx-2 mb-3 grid gap-3 md:mx-10  md:mb-6 md:grid-cols-4 ",children:[t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"エリア選択"}),t("select",{name:"",value:d.area_code,id:"area_code",onChange:K,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",children:[e("option",{value:"",children:"選択してください"}),b&&b.map(r=>e("option",{className:"cursor-pointer hover:bg-green-200",value:r.area_code,"data-area_id":r.id,children:r.name},r.id))]})]}),t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"エリアNO"}),e("input",{type:"text",id:"addAreaCode",value:d.area_code,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"エリアNO",required:!0,readOnly:!0})]})]}),t("div",{className:"mx-2  mb-3 grid gap-3 md:mx-10 md:mb-6 md:grid-cols-3 ",children:[t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"新規エリア追加 / 新規エリア名"}),e("input",{type:"text",id:"addArea",onChange:o,value:d.addArea,className:"block w-full rounded-lg border  border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"○○○エリア"})]}),t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"新規エリアNO"}),e("div",{className:"flex",children:e("input",{type:"text",onChange:o,value:d.addAreaCode,className:"block w-full rounded-lg  border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"",readOnly:!0})})]}),e("div",{className:"relative",children:e("button",{type:"button ",className:" bottom-0 h-[42px]  w-28 rounded-lg bg-black px-2 text-white  md:absolute",onClick:T,children:"追加する"})})]}),e("div",{className:"mx-2 mb-3 grid gap-3 md:mx-10 md:mb-6 md:grid-cols-2 ",children:t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"番地・号・建物名まで"}),e("input",{type:"text",id:"address",value:d.address,onChange:o,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",required:!0})]})}),t("div",{className:"mx-2  mb-3 grid grid-cols-4 md:mx-10 md:mb-6 ",children:[t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"電話番号1"}),t("div",{className:"flex items-center",children:[e("input",{type:"number",id:"tel1",value:d.tel1,onChange:o,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"03",required:!0}),e("span",{className:"mx-1",children:"-"})]})]}),t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"電話番号2"}),t("div",{className:"flex items-center",children:[e("input",{type:"number",id:"tel2",value:d.tel2,onChange:o,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"0101",required:!0}),e("span",{className:"mx-1",children:"-"})]})]}),t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"電話番号3"}),e("input",{type:"number",id:"tel3",value:d.tel3,onChange:o,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"0101",required:!0})]})]}),e("div",{className:"mx-2 mb-3 grid gap-3 md:mx-10 md:mb-6 md:grid-cols-2 ",children:t("div",{className:"",children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"取り扱いブランド"}),t("div",{className:"flex",children:[t("div",{ref:h,className:"relative w-full",children:[e("input",{type:"text",id:"brand",ref:m,autoComplete:"off",onChange:B,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500"}),y&&e("div",{className:"absolute z-20 w-full overflow-hidden rounded-lg border-gray-300 bg-blue-300",style:A?{display:"block"}:{display:"none"},children:y.map(r=>e("p",{className:"cursor-pointer bg-gray-100 py-0.5 pl-2 hover:bg-gray-300 ",id:"brand","data-name":r.name,"data-brand_id":r.id,onClick:O,children:r.name},r.id))})]}),e("button",{type:"button ",className:"ml-4 block h-10 w-32 rounded-lg bg-black  px-2 text-white",onClick:q,children:"追加する"})]}),d.brand&&d.brand.map((r,a)=>e("div",{className:" flex ","data-key":r.id,children:t("span",{className:"flex items-center hover:cursor-pointer",onClick:R,children:[r.name,r.kana,e(j,{})]})},a))]})}),t("div",{className:"mx-2 	 mb-3 grid gap-3 md:mx-10 md:mb-6 md:grid-cols-3 ",children:[t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"新規ブランド追加 / ブランド名"}),e("input",{type:"text",id:"addBrand",onChange:o,value:d.addBrand,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:""})]}),t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"カナ"}),e("div",{className:"flex",children:e("input",{type:"text",id:"addKana",onChange:o,value:d.addKana,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:""})})]}),e("div",{className:"relative",children:e("button",{type:"button",className:"bottom-0 h-[42px]	 w-28 rounded-lg bg-black text-white md:absolute  ",onClick:E,children:"追加する"})})]}),t("div",{className:"mx-2 mb-3 grid gap-3 md:mx-10 md:mb-6 md:grid-cols-4 ",children:[t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"最寄駅"}),e("input",{id:"nearest_station",type:"text",onChange:o,value:d.nearest_station,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"JR新宿駅",required:!0})]}),t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"営業時間"}),e("input",{id:"business_hours",type:"text",onChange:o,value:d.business_hours,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"午前９時〜午後１０時",required:!0})]}),t("div",{children:[e("label",{htmlFor:"visitors",className:"mb-2 block text-sm font-medium text-gray-900 dark:text-white",children:"定休日"}),t("div",{className:"flex items-center",children:[e("input",{id:"regular_holiday",type:"text",onChange:o,value:d.regular_holiday,className:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2.5 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-blue-500 dark:focus:ring-blue-500",placeholder:"火",required:!0}),e("span",{className:"ml-1 w-16",children:"曜日"})]})]})]}),e("div",{className:"mx-2 mb-10 mt-10 grid gap-3 md:mx-10 md:grid-cols-4 ",children:e("button",{type:"submit",className:" w-full  rounded-lg bg-blue-700 px-5 py-2.5 text-center text-base font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 sm:w-auto",children:"作成する"})})]})]})};export{$ as default};
